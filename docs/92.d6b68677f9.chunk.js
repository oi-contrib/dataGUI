"use strict";(self.webpackChunkdatagui=self.webpackChunkdatagui||[]).push([[92],{92:(e,t,n)=>{n.r(t),n.d(t,{default:()=>a});var i=n(540),r=n(151);const o=/Android|webOS|iPhone|iPod|iPad|BlackBerry/i.test(navigator.userAgent),l=(e,t)=>{if(o){t.preventDefault();let n=t,i=e.getBoundingClientRect();return[n.targetTouches[0].clientX-i.left,n.targetTouches[0].clientY-i.top]}{let e=t;return[e.offsetX,e.offsetY]}};class s extends i.Component{constructor(e){super(e),this.refContent=i.createRef()}render(){return i.createElement("div",{ref:this.refContent,style:{backgroundColor:"#e7e7e7",width:"300px",height:"480px",position:"fixed",left:"50vw",top:"50vh",transform:"translateX(-50%) translateY(-50%)",borderRadius:"10px",boxShadow:"0 0 14px 5px #767676"}},i.createElement("div",{style:{position:"absolute",left:"0",top:"0",width:"100%",textAlign:"center",pointerEvents:"none"}},i.createElement("div",{style:{backgroundImage:"url('./zxl20070701.jpg')",width:"80px",height:"80px",borderRadius:"50%",display:"inline-block",marginTop:"30px",fontSize:"0",backgroundSize:"100% auto"}},"头像"),i.createElement("div",{style:{fontSize:"14px",fontFamily:"cursive",fontStyle:"italic",lineHeight:"50px",color:"#6e7476"}},"请绘制手势密码"),i.createElement("div",{style:{fontSize:"16px",color:"black"}},"z Z ...")))}componentDidMount(){let e=new r.Canvas(this.refContent.current),t=!1,n=[];this.updateView(e,n);let i=(i,r)=>{e.getRegion(i,r).then((e=>{e&&(n=[],t=!0)}))},s="",a=(i,r)=>{t&&e.getRegion(i,r).then((t=>{if(t&&t!=s){s=t;let e=t.split("-");n.push([+e[0],+e[1]])}this.updateView(e,n,[i,r])}))},h=()=>{t=!1,this.updateView(e,n);let i=[];for(let e=0;e<n.length;e++)i.push(3*n[e][1]+n[e][0]+1);i.length>0&&setTimeout((()=>{alert("解锁密码："+i.join("-"))}),50)};o?(this.refContent.current.addEventListener("touchstart",(e=>{i(...l(this.refContent.current,e))}),!1),this.refContent.current.addEventListener("touchmove",(e=>{a(...l(this.refContent.current,e))}),!1),this.refContent.current.addEventListener("touchend",h,!1)):(this.refContent.current.addEventListener("mousedown",(e=>{i(...l(this.refContent.current,e))}),!1),this.refContent.current.addEventListener("mousemove",(e=>{a(...l(this.refContent.current,e))}),!1),this.refContent.current.addEventListener("mouseup",h,!1))}updateView(e,t,n){let i=e.getInfo();e.clearRect(0,0,i.width,i.height);let r=.85*i.width,o=.5*(i.width-r),l=r/3,s=.75*l*.5;e.config({strokeStyle:"#555",lineWidth:1});for(let t=0;t<3;t++)for(let n=0;n<3;n++){e.setRegion(t+"-"+n);let r=o+(t+.5)*l,a=i.height-(2.5-n)*l-o;e.onlyRegion(!0).fillCircle(r,a,s).onlyRegion(!1).strokeCircle(r,a,s)}e.setRegion("").onlyView(!0);for(let n=0;n<t.length;n++){let r=t[n][0],a=t[n][1],h=o+(r+.5)*l,c=i.height-(2.5-a)*l-o;e.config({fillStyle:"#abd5e3"}).fillCircle(h,c,s).config({fillStyle:"#3b9ee1"}).fillCircle(h,c,.3*s)}e.config({strokeStyle:"#3b9ee1",lineWidth:.1*s}).beginPath();for(let n=0;n<t.length;n++){let r=t[n][0],s=t[n][1],a=o+(r+.5)*l,h=i.height-(2.5-s)*l-o;e.lineTo(a,h)}n&&e.lineTo(n[0],n[1]),e.stroke().onlyView(!1)}}const a=s}}]);